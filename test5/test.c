/*******************************************************************************

*                 

*                 		       普中科技

--------------------------------------------------------------------------------

* 实 验 名		 : 译码器试验

* 实验说明       : 8个LED灯显示译码器输出电平

* 连接方式       : 见连接图

* 注    意		 : 

*******************************************************************************/



#include<reg51.h>
#define LSA P2_2
#define LSB P2_3
#define LSC P2_4





//--定义要使用的IO口--//
/*
sbit LSA=P2^2;

sbit LSB=P2^3;

sbit LSC=P2^4;

*/


//--声明全局函数--//

void Delay10ms(unsigned int c);   //误差 0us



/*******************************************************************************

* 函 数 名         : main

* 函数功能		   : 主函数

* 输    入         : 无

* 输    出         : 无

*******************************************************************************/

void main(void)

{

	unsigned char i = 0;



	while(1)

	{

		switch(i)	 //位选，选择点亮的数码管，

		{

			case(0):

				LSA=0;LSB=0;LSC=0; break;//显示第0位

			case(1):

				LSA=1;LSB=0;LSC=0; break;//显示第1位

			case(2):

				LSA=0;LSB=1;LSC=0; break;//显示第2位

			case(3):

				LSA=1;LSB=1;LSC=0; break;//显示第3位

			case(4):

				LSA=0;LSB=0;LSC=1; break;//显示第4位

			case(5):

				LSA=1;LSB=0;LSC=1; break;//显示第5位

			case(6):

				LSA=0;LSB=1;LSC=1; break;//显示第6位

			case(7):

				LSA=1;LSB=1;LSC=1; break;//显示第7位	

		}

		Delay10ms(50);

		i++;

		if(i == 8)

		{

			i = 0;

		}

	}		

}



/*******************************************************************************

* 函 数 名         : Delay10ms

* 函数功能		   : 延时函数，延时10ms

* 输    入         : 无

* 输    出         : 无

*******************************************************************************/



void Delay10ms(unsigned int c)   //误差 0us

{

    unsigned char a, b;



	//--c已经在传递过来的时候已经赋值了，所以在for语句第一句就不用赋值了--//

    for (;c>0;c--)

	{

		for (b=38;b>0;b--)

		{

			for (a=130;a>0;a--);

		}

           

	}       

}
